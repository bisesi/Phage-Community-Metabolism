# Phage-Community-Metabolism

![Bacterial ecology](https://github.com/bisesi/Phage-Community-Metabolism/blob/main/figures/final-figs/imgs/figure-3.png)

### Authors:

Ave T. Bisesi, Ross P. Carlson, Lachlan Cotner, and William R. Harcombe

## Repository Overview

This code repository contains the necessary data and scripts to reproduce the figures and analyses presented in the manuscript, "Metabolic remodeling of microorganisms by obligate intracellular parasites alters mutualistic community composition." The paper preprint is available on [bioRxiv](https://www.biorxiv.org/).

To reproduce the analyses, clone or download the project and follow the instructions provided below.

## Getting started

1. Clone or download the repository to your local machine.
2. If you are using R Studio, open the R project file, ```Phage-Community-Metabolism.Rproj```. This will set up your working directories correctly, so there is no need to change them manually. 

## Figure generation

Figures can be recreated using the individual scripts found in the folder ```figures/final-figs/scripts```. 

## Simulation data

FBA, pFBA, FVA, and dFBA simulations run in Jupyter Notebook using ```cobra``` and ```comets``` can be found in the folder ```fba-scripts``` and the data previously generated by running these notebooks is saved by associated figure in the folder ```fba-data```. Genome-scale metabolic model xml files used for these simulations are available in the ```models``` folder. 

## Experimental data

Tecan and other data for all relevant experiments can be found in the ```experimental-data``` folder. Each experiment is filed under a broad category and labelled by date. The README files in each folder provide details about the conditions tested. Helper functions to clean and analyze the data can be found in the ```functions``` folder. Preparing data for visualization is often a multi-step process involving data cleaning, growth rate calculations, and fluorescent protein bleedthrough correction; additional files used to simplify this process are available in the ```data-generation/experimental``` folder.

## Required Python Packages

Before running the FBA scripts in the appropriate Jupyter Notebooks, ensure you have the following Python libraries installed. 

- ```cobra```: Python toolbox for flux balance analysis.
- ```cometspy```: Python toolbox for dynamic flux balance analysis.
- ```numpy```: Array and matrix manipulation. 
- ```pandas```: Data anlysis and manipulation tool.

## Required R Packages

Before running the scripts, ensure you have the following R packages installed:

- ```tidyverse```: A collection of R packages designed for data science. 
- ```cowplot```: Functions for creating publication-ready plots.
- ```ggtext```: Functions for creating publication-ready plots.
- ```ggpubr```: Functions for creating publication-ready plots.
- ```rstatix```: Functions for pipe-friendly statistical analysis.
- ```ggpubfigs```: Functions for creating publication-ready plots.
- ```ggVennDiagram```: Functions for creating Venn Diagram plots.
- ```pmp```: Functions for matrix processing and signal batch correction for metabolomics datasets.
- ```scales```: Functions for the scaling infrastruction of ggplot2.
- ```readxl```: Functions for importing and exporting Excel files.
- ```chromatographR```: Functions for the reproducible analysis of HPLC-DAD chromatographic data.
- ```broom```: Functions for processing the output of statistical analyses.
- ```genbankr```: Functions to parse GenBank and GenPept files into data structures compatible with the Bioconductor ecosystem. 